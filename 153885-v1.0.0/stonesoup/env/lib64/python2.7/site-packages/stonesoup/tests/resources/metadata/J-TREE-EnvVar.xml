<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="urn:stonesoup:project"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         name="J-TREE" base_program="J-TREE" language="JAVA">
    <description>J-TREE 1.0</description>
    <structure source="src" install="install" scripts="scripts" iodata="testData" scoredata="testOutput" />
    <run_command>java $SS_JAVA_OPTS -cp "$SS_TC_ROOT/$SS_TC_INSTALL:$SS_TC_ROOT/$SS_TC_INSTALL/lib/*:$SS_TC_ROOT/$SS_TC_INSTALL/lib/opt/*" stonesoup.jtree.Main</run_command>
    <build_commands>
        <command>env ANT_HOME=$SS_TC_DEPS/ant ant $SS_ANT_OPTS $SS_ANT_ENABLE_EXTRA_DEPS -Dstonesoup.socket.lib.dir="$SS_TC_DEPS/java/stonesoup/socket" -Dstonesoup.hibernate.mysql.lib.dir="$SS_TC_DEPS/java/stonesoup/hibernate/mysql" -Dstonesoup.hibernate.postgres.lib.dir="$SS_TC_DEPS/java/stonesoup/hibernate/postgres" -Dstonesoup.datbase.mysql.lib.dir="$SS_TC_DEPS/java/stonesoup/database/mysql" -Dstonesoup.database.postgres.lib.dir="$SS_TC_DEPS/java/stonesoup/database/postgres" -Ddir.dist=$SS_TC_ROOT/$SS_TC_INSTALL  build</command>
        <command>cp -r lib $SS_TC_ROOT/$SS_TC_INSTALL</command>
    </build_commands>
    <iopairs>
        <iopair name="J-TREE-GOOD-01" type="GOOD" >
            <technical_impact>NONE</technical_impact>
            <pre_processes>
                <process_group scheme="SEQUENCE">
                    <process delay_before="0" delay_after="0">
                        <environment_variable type="USE_TEXT" encoding="STRING" input_id="J-TREE-GOOD-01-PRE-ENVVAR-1" key="SS_NEW_ENVVAR1">newvar1-value</environment_variable>   
                    </process>
                    <process delay_before="0" delay_after="0">
                        <environment_variable type="USE_TEXT" encoding="STRING" input_id="J-TREE-GOOD-01-PRE-ENVVAR-2" key="SS_NEW_ENVVAR2">$SS_TC_ROOT/sub1</environment_variable>   
                    </process>
                    <process delay_before="0" delay_after="0">
                        <script type="USE_TEXT" encoding="STRING" input_id="J-TREE-GOOD-01-PRE-SCRIPT-1">echo -n $SS_NEW_ENVVAR1</script>   
                    </process>
                    <process delay_before="0" delay_after="0">
                        <script type="USE_TEXT" encoding="STRING" input_id="J-TREE-GOOD-01-PRE-SCRIPT-2">echo -n $SS_NEW_ENVVAR2</script>   
                    </process>
                </process_group>
            </pre_processes>
            <run_command >input/good-01</run_command>
            <scoring_formula default="GOOD-01-Default">
                <formula name="GOOD-01-Default">GOOD-01</formula>
            </scoring_formula>
            <output_checks>
                <compare_check name="GOOD-01" check_type="CONTAINS" rescorable="false">
                  <actual output_type="STANDARD_OUT" encoding="STRING" input_id_ref="J-TREE-GOOD-01-PRE-SCRIPT-1"></actual>
                  <expected type="USE_TEXT" encoding="STRING">J-TREE-GOOD-01-PRE-SCRIPT-1-STDOUT</expected>
                </compare_check>
            </output_checks>
        </iopair>
    </iopairs>
</project>
