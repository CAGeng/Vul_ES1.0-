# -----------------------------Copyright-------------------------------------
# NOTICE
#
# This software (or technical data) was produced for the U. S.
# Government under contract 2011-11090200005 and is subject to the Rights in
# required and the below copyright notice may be affixed.
#
# Copyright (c) 2014. All Rights Reserved.
# -----------------------------Copyright--------------------------------------
import base64
from stonesoup.tests.scoring.checks.base import Scoring_Checks_Base
from stonesoup.metadata import SimpleOutputCheck, EncodingType, ValueType

class Scoring_Checks_Simple_Base(Scoring_Checks_Base):
    """
    Sets up an output check with the optional given value. Otherwise value is 1234.
    Encoding is String unless specified to be base 64
    """
    def get_simple_output_check(self, checktype, handling, encoding, value="1234"):
        oc = SimpleOutputCheck()
        oc.name = "Test"
        oc.check = checktype
        oc.encoding = encoding
        oc.handling = handling
        outputvalue = value
        if encoding == EncodingType.base64 and handling == ValueType.use_text:
                outputvalue = base64.encodestring(outputvalue)
        oc.value = outputvalue

        return oc